<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            box-sizing: border-box;
        }

        .row {
            display: flex;
            flex-wrap: wrap;
        }

        .col-4 {
            flex: 33.3333%;
            margin-bottom: 10px;
        }

        .col-8 {
            flex: 66.6666%;
            margin-bottom: 10px;
        }

        input .form-control {
            width: 100%;
            padding: 5px 10px;
        }

        .alert {
            color: red;
        }
    </style>
</head>
<body>
    <div class="row">
        <div class="col-4">
            <label for="">Name</label>
        </div>
        <div class="col-8"> 
            <span id="name"></span>
        </div>
        
        <div class="col-4">
            <label for="">Gender</label>
        </div>
        <div class="col-8">
            <span id="gender"></span>
        </div>

        <div class="col-4">
            <label for="">Company</label>
        </div>
        <div class="col-8"> 
            <span id="company"></span>
        </div>

        <div class="col-4">
            <label for="">Email</label>
        </div>
        <div class="col-8"> 
            <span id="email"></span>
        </div>

        <div class="col-4">
            <label for="">Phone</label>
        </div>
        <div class="col-8"> 
            <span id="phone"></span>
        </div>

        <div class="col-4">
            <label for="">Address</label>
        </div>
        <div class="col-8"> 
            <span id="address"></span>
        </div>

        <div>
            <button onClick="goToUpdate();">수정</button>
            <button onClick="goToList();">목록</button>
        </div>
    </div>

    <script src="./js/common.js"></script>
    <script>
        async function doSearchDetail() {
            const {id} = parseQueryString();
            const res = await fetch(`http://localhost:3000/customers/${id}`);
            const resJson = await res.json();
            console.log(resJson);
            renderDetail(resJson);
        }

        function renderDetail(data) {
            document.querySelector("#name").innerText = data.name;
            document.querySelector("#gender").innerText = data.gender;
            document.querySelector("#company").innerText = data.company;
            document.querySelector("#email").innerText = data.email;
            document.querySelector("#phone").innerText = data.phone;
            document.querySelector("#address").innerText = data.fullAddress;
        }

        function goToList() {
            document.location.href="./list.html";
        }


        function goToUpdate() {
            const {id} = parseQueryString();
            document.location.href=`./update.html?id=${id}`;
        }

        doSearchDetail();
    </script>
</body>
</html>